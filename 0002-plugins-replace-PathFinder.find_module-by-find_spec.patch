From 453022968559c9233e980646718b04aca609982b Mon Sep 17 00:00:00 2001
From: mathieui <mathieui@mathieui.net>
Date: Sat, 2 Mar 2024 23:15:57 +0100
Subject: [PATCH 1/3] plugins: replace PathFinder.find_module by find_spec
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

deprecated since python 3.4………
---
 poezio/plugin_manager.py | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

diff --git a/poezio/plugin_manager.py b/poezio/plugin_manager.py
index 17673a9e..a3e8d716 100644
--- a/poezio/plugin_manager.py
+++ b/poezio/plugin_manager.py
@@ -85,10 +85,10 @@ class PluginManager:
 
         try:
             module = None
-            loader = self.finder.find_module(name, self.load_path)
-            if loader:
-                log.debug('Found candidate loader for plugin %s: %r', name, loader)
-                module = loader.load_module()
+            finder = self.finder.find_spec(name, self.load_path)
+            if finder and finder.loader:
+                log.debug('Found candidate loader for plugin %s: %r', name, finder.loader)
+                module = finder.loader.load_module()
                 if module is None:
                     log.debug('Failed to load plugin %s from loader', name)
             else:
-- 
2.46.1

