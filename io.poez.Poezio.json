{
    "app-id": "io.poez.Poezio",
    "runtime": "org.freedesktop.Platform",
    "runtime-version": "20.08",
    "sdk": "org.freedesktop.Sdk",
    "command": "poezio",
    "finish-args": [
        "--filesystem=xdg-cache/poezio:create",
        "--filesystem=xdg-config/poezio:create",
        "--filesystem=xdg-data/poezio:create",
        "--share=network"
    ],
    "cleanup": [
        "/bin/chardetect",
        "/bin/poezio_logs",
        "/include",
        "/lib/python3.8/site-packages/cffi",
        "/lib/python3.8/site-packages/_cffi_backend.cpython-38-x86_64-linux-gnu.so",
        "/lib/python3.8/site-packages/poezio/poopt.py",
        "/lib/python3.8/site-packages/pycparser",
        "/lib/python3.8/site-packages/pygtkcompat",
        "/lib/python3.8/site-packages/*.dist-info",
        "py.typed",
        "*.c",
        "*.h",
        "*.pxd",
        "*.pxi",
        "*.pyi",
        "*.pyx",
        "/share/doc",
        "/share/man",
        "/share/poezio"
    ],
    "modules": [
        {
            "name": "python3-pyasn1",
            "buildsystem": "simple",
            "build-commands": [
                "pip3 install --prefix=/app pyasn1-0.4.8-py2.py3-none-any.whl"
            ],
            "sources": [
                {
                    "type": "file",
                    "url": "https://files.pythonhosted.org/packages/62/1e/a94a8d635fa3ce4cfc7f506003548d0a2447ae76fd5ca53932970fe3053f/pyasn1-0.4.8-py2.py3-none-any.whl",
                    "sha256": "39c7e2ec30515947ff4e87fb6f456dfc6e84857d34be479c9d4a4ba4bf46aa5d"
                }
            ]
        },
        {
            "name": "python3-pyasn1-modules",
            "buildsystem": "simple",
            "build-commands": [
                "pip3 install --prefix=/app pyasn1_modules-0.2.8-py2.py3-none-any.whl"
            ],
            "sources": [
                {
                    "type": "file",
                    "url": "https://files.pythonhosted.org/packages/95/de/214830a981892a3e286c3794f41ae67a4495df1108c3da8a9f62159b9a9d/pyasn1_modules-0.2.8-py2.py3-none-any.whl",
                    "sha256": "a50b808ffeb97cb3601dd25981f6b016cbb3d31fbf57a8b8a87428e6158d0c74"
                }
            ]
        },
        {
            "name": "python3-pycparser",
            "buildsystem": "simple",
            "build-commands": [
                "pip3 install --prefix=/app pycparser-2.20-py2.py3-none-any.whl"
            ],
            "sources": [
                {
                    "type": "file",
                    "url": "https://files.pythonhosted.org/packages/ae/e7/d9c3a176ca4b02024debf82342dab36efadfc5776f9c8db077e8f6e71821/pycparser-2.20-py2.py3-none-any.whl",
                    "sha256": "7582ad22678f0fcd81102833f60ef8d0e57288b6b5fb00323d101be910e35705"
                }
            ]
        },
        {
            "name": "python3-cffi",
            "buildsystem": "simple",
            "build-commands": [
                "pip3 install --prefix=/app ."
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://files.pythonhosted.org/packages/f7/09/88bbe20b76ca76be052c366fe77aa5e3cd6e5f932766e5597fecdd95b2a8/cffi-1.14.2.tar.gz",
                    "sha256": "ae8f34d50af2c2154035984b8b5fc5d9ed63f32fe615646ab435b05b132ca91b"
                }
            ]
        },
        {
            "name": "python3-pycares",
            "buildsystem": "simple",
            "build-commands": [
                "pip3 install --prefix=/app ."
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://files.pythonhosted.org/packages/4e/09/f49ef1c4b6a5ad50fc08a8acd015f1938594dd7a6b4a6a96d049d9bbec7d/pycares-3.1.1.tar.gz",
                    "sha256": "18dfd4fd300f570d6c4536c1d987b7b7673b2a9d14346592c5d6ed716df0d104"
                }
            ]
        },
        {
            "name": "python3-attrs",
            "buildsystem": "simple",
            "build-commands": [
                "pip3 install --prefix=/app attrs-20.1.0-py2.py3-none-any.whl"
            ],
            "sources": [
                {
                    "type": "file",
                    "url": "https://files.pythonhosted.org/packages/d6/e1/3aa3b03e7643ffd6e499b203fd2a44f79893443e8b0b520d05d3e5c638d5/attrs-20.1.0-py2.py3-none-any.whl",
                    "sha256": "2867b7b9f8326499ab5b0e2d12801fa5c98842d2cbd22b35112ae04bf85b4dff"
                }
            ]
        },
        {
            "name": "python3-aiodns",
            "buildsystem": "simple",
            "build-commands": [
                "pip3 install --prefix=/app aiodns-2.0.0-py2.py3-none-any.whl"
            ],
            "sources": [
                {
                    "type": "file",
                    "url": "https://files.pythonhosted.org/packages/da/01/8f2d49b441573fd2478833bdba91cf0b853b4c750a1fbb9e98de1b94bb22/aiodns-2.0.0-py2.py3-none-any.whl",
                    "sha256": "aaa5ac584f40fe778013df0aa6544bf157799bd3f608364b451840ed2c8688de"
                }
            ]
        },
        {
            "name": "python3-chardet",
            "buildsystem": "simple",
            "build-commands": [
                "pip3 install --prefix=/app chardet-3.0.4-py2.py3-none-any.whl"
            ],
            "sources": [
                {
                    "type": "file",
                    "url": "https://files.pythonhosted.org/packages/bc/a9/01ffebfb562e4274b6487b4bb1ddec7ca55ec7510b22e4c51f14098443b8/chardet-3.0.4-py2.py3-none-any.whl",
                    "sha256": "fc323ffcaeaed0e0a02bf4d117757b98aed530d9ed4531e3e15460124c106691"
                }
            ]
        },
        {
            "name": "python3-multidict",
            "buildsystem": "simple",
            "build-commands": [
                "rm pyproject.toml",
                "pip3 install --prefix=/app ."
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://files.pythonhosted.org/packages/65/d4/fabdcc5ee4451c8a8e177e27ddfd131a53a82ecc5a3b68468b7e9f8d70b4/multidict-4.7.6.tar.gz",
                    "sha256": "fbb77a75e529021e7c4a8d4e823d88ef4d23674a202be4f5addffc72cbb91430"
                }
            ]
        },
        {
            "name": "python3-async_timeout",
            "buildsystem": "simple",
            "build-commands": [
                "pip3 install --prefix=/app async_timeout-3.0.1-py3-none-any.whl"
            ],
            "sources": [
                {
                    "type": "file",
                    "url": "https://files.pythonhosted.org/packages/e1/1e/5a4441be21b0726c4464f3f23c8b19628372f606755a9d2e46c187e65ec4/async_timeout-3.0.1-py3-none-any.whl",
                    "sha256": "4291ca197d287d274d0b6cb5d6f8f8f82d434ed288f962539ff18cc9012f9ea3"
                }
            ]
        },
        {
            "name": "python3-idna",
            "buildsystem": "simple",
            "build-commands": [
                "pip3 install --prefix=/app idna-2.10-py2.py3-none-any.whl"
            ],
            "sources": [
                {
                    "type": "file",
                    "url": "https://files.pythonhosted.org/packages/a2/38/928ddce2273eaa564f6f50de919327bf3a00f091b5baba8dfa9460f3a8a8/idna-2.10-py2.py3-none-any.whl",
                    "sha256": "b97d804b1e9b523befed77c48dacec60e6dcb0b5391d57af6a65a312a90648c0"
                }
            ]
        },
        {
            "name": "python3-yarl",
            "buildsystem": "simple",
            "build-commands": [
                "rm pyproject.toml",
                "pip3 install --prefix=/app ."
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://files.pythonhosted.org/packages/ac/dd/59768bb3fa08e8b23e91575bca3ff8d2edbfbceebec8c59eaa24c4215791/yarl-1.5.1.tar.gz",
                    "sha256": "c22c75b5f394f3d47105045ea551e08a3e804dc7e01b37800ca35b58f856c3d6"
                }
            ]
        },
        {
            "name": "python3-aiohttp",
            "buildsystem": "simple",
            "build-commands": [
                "pip3 install --prefix=/app ."
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://files.pythonhosted.org/packages/00/94/f9fa18e8d7124d7850a5715a0b9c0584f7b9375d331d35e157cee50f27cc/aiohttp-3.6.2.tar.gz",
                    "sha256": "259ab809ff0727d0e834ac5e8a283dc5e3e0ecc30c4d80b3cd17a4139ce1f326"
                }
            ]
        },
        {
            "name": "python3-slixmpp",
            "buildsystem": "simple",
            "build-commands": [
                "pip3 install --prefix=/app ."
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://lab.louiz.org/poezio/slixmpp/-/archive/slix-1.5.2/slixmpp-slix-1.5.2.tar.gz",
                    "sha256": "7a855d1d3969adf7026a7c05808e80c285718f5115d944dd449a1c3f701df0c6"
                }
            ]
        },
        {
            "name": "python3-gobject",
            "buildsystem": "meson",
            "config-opts": [
                "-Dpycairo=disabled",
                "-Dtests=false"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://files.pythonhosted.org/packages/51/2f/4d5d5afb7000b9151e33952b59163c9389bd867ac6fe85d62f85831fa061/PyGObject-3.40.1.tar.gz",
                    "sha256": "6fb599aa59ceb9dd05fafb0d72b3862943e7d5e85c8ef6c74856bc6d4321cbab"
                }
            ]
        },
        {
            "name": "poezio",
            "buildsystem": "simple",
            "build-commands": [
                "patch -p1 < 149.patch",
                "sed -i /component/s/console-application/desktop/ data/io.poez.Poezio.appdata.xml",
                "sed -i /project_license/s/Zlib/GPL-3.0-or-later/ data/io.poez.Poezio.appdata.xml",
                "pip3 install --prefix=/app .",
                "sed -i '/^Exec=/s,=.*,=/app/bin/poezio,' /app/share/applications/io.poez.Poezio.desktop",
                "install -Dm644 data/poezio_logo.svg /app/share/icons/hicolor/scalable/apps/io.poez.Poezio.svg"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://lab.louiz.org/poezio/poezio/-/archive/v0.13.1/poezio-v0.13.1.tar.gz",
                    "sha256": "475ac5e6eb00e7c191e17bc095c0b70c91a419c4d9a962c1fd09706c42505308"
                },
                {
                    "type": "file",
                    "url": "https://lab.louiz.org/poezio/poezio/-/merge_requests/149.patch",
                    "sha256": "a6db16cd06c3a991b6ceef5db70e8253b3edee7350cd8185144fdc7916e75301"
                }
            ]
        },
        {
            "name": "python3-cryptography",
            "buildsystem": "simple",
            "build-commands": [
                "rm pyproject.toml",
                "pip3 install --prefix=/app ."
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://files.pythonhosted.org/packages/94/5c/42de91c7fbdb817b2d9a4e64b067946eb38a4eb36c1a09c96c87a0f86a82/cryptography-3.2.1.tar.gz",
                    "sha256": "d3d5e10be0cf2a12214ddee45c6bd203dab435e3d83b4560c03066eda600bfe3"
                }
            ]
        },
        {
            "name": "python3-libnacl",
            "buildsystem": "simple",
            "build-commands": [
                "pip3 install --prefix=/app libnacl-1.7.2-py2.py3-none-any.whl"
            ],
            "sources": [
                {
                    "type": "file",
                    "url": "https://files.pythonhosted.org/packages/57/5e/e812f85943714928518bcfc9b4948887ceddf75bf47a58441595f9f6ee5d/libnacl-1.7.2-py2.py3-none-any.whl",
                    "sha256": "7418623b64aeed76f7b003d3a360f5c0dbb5d98adc98c6db4ddd4a15caf5186a"
                }
            ]
        },
        {
            "name": "python3-xeddsa",
            "buildsystem": "simple",
            "build-commands": [
                "pip3 install --prefix=/app ."
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://files.pythonhosted.org/packages/66/f3/3230fd00dfe52cd08d6fd24b29a83dc309a196c6d0a57634619681228909/XEdDSA-0.6.0.tar.gz",
                    "sha256": "996877dcf9b17da0d188ca5e53b92aadeba90484365bfda4d17017246472735b"
                }
            ]
        },
        {
            "name": "python3-x3dh",
            "buildsystem": "simple",
            "build-commands": [
                "sed -i '/install_requires/s/\"XEdDSA.*\"/\"XEdDSA==0.6.0\"/' setup.py",
                "pip3 install --prefix=/app ."
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://files.pythonhosted.org/packages/e2/ea/e6f9daa71010cb52629fb299ee629929d9fdb861ebee1dce4853f2bf6bde/X3DH-0.5.9.tar.gz",
                    "sha256": "5ed6569a05af547723247884a7d2604f725a64d2f4fa6d232ad81052cd8e9d8d"
                }
            ]
        },
        {
            "name": "python3-omemo",
            "buildsystem": "simple",
            "build-commands": [
                "pip3 install --prefix=/app ."
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://files.pythonhosted.org/packages/a9/8e/42f78f7b5451fc1adb6db82715ae03918325ab8ed2115dc5e956c33a4c58/OMEMO-0.12.0.tar.gz",
                    "sha256": "073cbc8ef8ba16b0b4c9bd1d1415328d90bd4d43077a0e96a4385f422849d04e"
                }
            ]
        },
        {
            "name": "python3-doubleratchet",
            "buildsystem": "simple",
            "build-commands": [
                "pip3 install --prefix=/app ."
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://files.pythonhosted.org/packages/68/d4/89a53f33f5b933311ec707f41e2b2badc6bf30cb22b0c1feab06005381a7/DoubleRatchet-0.7.0.tar.gz",
                    "sha256": "29cb843c98a60fcb45d8c3dc4e0b0e3432499a48b90d79ca52f93e615ec7f769"
                }
            ]
        },
        {
            "name": "python3-protobuf",
            "buildsystem": "simple",
            "build-commands": [
                "pip3 install --prefix=/app ."
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://files.pythonhosted.org/packages/25/ef/8f36bc7e4c3dcad241a9e7a51520d30712a7abc034343bed841ff4ea3289/protobuf-3.13.0.tar.gz",
                    "sha256": "6a82e0c8bb2bf58f606040cc5814e07715b2094caeba281e2e7d0b0e2e397db5"
                }
            ]
        },
        {
            "name": "python3-omemo-backend-signal",
            "buildsystem": "simple",
            "build-commands": [
                "pip3 install --prefix=/app ."
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://files.pythonhosted.org/packages/ef/45/1d02e202decf4db159f27f49b5129e4aad4ebdf74f79e480c13692cf43b0/omemo-backend-signal-0.2.6.tar.gz",
                    "sha256": "5d91f1026863dfb4b11386b7aeb6a2753de60bcbbcb08acabf42ad5bf6f046c5"
                }
            ]
        },
        {
            "name": "slixmpp-omemo",
            "buildsystem": "simple",
            "build-commands": [
                "pip3 install --prefix=/app ."
            ],
            "sources": [
                {
                    "type": "git",
                    "url": "https://lab.louiz.org/poezio/slixmpp-omemo",
                    "commit": "957b555d930b14f99f1dedd4d52ea1f1d0a92ca9"
                }
            ]
        },
        {
            "name": "poezio-omemo",
            "buildsystem": "simple",
            "build-commands": [
                "pip3 install --prefix=/app ."
            ],
            "sources": [
                {
                    "type": "git",
                    "url": "https://lab.louiz.org/poezio/poezio-omemo",
                    "commit": "7f2791bd3ac75c9ef96160841d23f5e4b995a8b7"
                }
            ]
        }
    ]
}
